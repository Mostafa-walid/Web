<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Profile</title>
		<link rel="stylesheet" href="/css/navbar.css" />
		<link rel="stylesheet" href="/css/profile.css" />
	</head>
	<body>
		<%- include("./nav.ejs") %>

		<div class="profile-page">
			<!-- Sidebar -->
			<div class="sidebar">
				<ul>
					<li>
						<a href="#" data-section="account-info"
							>Account Information</a
						>
					</li>
					<li>
						<a href="#" data-section="update-password"
							>Update Password</a
						>
					</li>
					<li>
						<a href="#" data-section="order-history"
							>Order History</a
						>
					</li>
				</ul>
			</div>

			<!-- Main Content -->
			<div class="content">
				<section id="account-info" class="section hidden">
					<h2>Account Information</h2>
					<form
						id="updateProfileForm"
						action="/users/<%= user._id %>/update"
						method="POST"
						class="profile-form"
					>
						<div class="form-group">
							<label for="name">Name:</label>
							<input
								type="text"
								id="name"
								name="name"
								value="<%= user.name %>"
								required
							/>
						</div>
						<div class="form-group">
							<label for="email">Email:</label>
							<input
								type="email"
								id="email"
								name="email"
								value="<%= user.email %>"
								required
							/>
						</div>
						<div class="form-group">
							<label for="username">Username:</label>
							<input
								type="text"
								id="username"
								name="username"
								value="<%= user.username %>"
								readonly
							/>
						</div>
						<button type="submit" class="update-btn">
							Update Profile
						</button>
					</form>
				</section>

				<section id="update-password" class="section hidden">
					<h2>Update Password</h2>
					<form
						id="updatePasswordForm"
						action="/users/<%= user._id %>/update-password"
						method="POST"
						class="password-form"
					>
						<div class="form-group">
							<label for="currentPassword"
								>Current Password:</label
							>
							<input
								type="password"
								id="currentPassword"
								name="currentPassword"
								required
							/>
						</div>
						<div class="form-group">
							<label for="newPassword">New Password:</label>
							<input
								type="password"
								id="newPassword"
								name="newPassword"
								required
							/>
						</div>
						<div class="form-group">
							<label for="confirmPassword"
								>Confirm New Password:</label
							>
							<input
								type="password"
								id="confirmPassword"
								name="confirmPassword"
								required
							/>
						</div>
						<button type="submit" class="update-btn">
							Update Password
						</button>
					</form>
				</section>

				<section id="order-history" class="section hidden">
					<h2>Order History</h2>
					<div id="order-list">
					  <p id="no-orders">No orders yet! Once you make a purchase, it will appear here.</p>
					</div>

				  </section>
			</div>
		</div>
